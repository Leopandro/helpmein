var w=Object.defineProperty;var x=(c,t,s)=>t in c?w(c,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[t]=s;var o=(c,t,s)=>(x(c,typeof t!="symbol"?t+"":t,s),s);import{D as k,aa as S,av as B,ab as C,R as A,J as F,G as L,H as q,aw as Q,S as D,_ as U,l as N,x as r,w as y,y as g,o as R,m as e,Q as _}from"./index.bbe9359f.js";import"./object.77d0b81a.js";import{S as E}from"./sweetalert2.74fe64d4.js";const b={minLength:8,checkUppercase:!0,checkLowercase:!0,checkDigit:!0,checkChar:!0,scoreHighlightClass:"active"},p={componentName:"password-meter",instanseQuery:"[data-kt-password-meter]",inputQuery:"input[type]",visibilityQuery:'[data-kt-password-meter-control="visibility"]',highlightQuery:'[data-kt-password-meter-control="highlight"]'},d=class{constructor(t,s,i){o(this,"element");o(this,"inputElement");o(this,"visibilityElement");o(this,"highlightElement");o(this,"options");o(this,"queries");o(this,"score");o(this,"checkSteps");o(this,"reset",()=>{this.score=0,this.highlight()});this.element=t,this.options=Object.assign(b,s),this.queries=i,this.score=0,this.checkSteps=5,this.inputElement=this.element.querySelector(this.queries.inputQuery),this.visibilityElement=this.element.querySelector(this.queries.visibilityQuery),this.highlightElement=this.element.querySelector(this.queries.highlightQuery),this.handlers(),k.set(this.element,this.queries.componentName,this)}handlers(){this.inputElement&&this.inputElement.addEventListener("input",()=>{this.check()}),this.visibilityElement&&this.visibilityElement.addEventListener("click",()=>{this.visitbility()})}visitbility(){if(this.visibilityElement&&this.inputElement){const t=this.visibilityElement.querySelector("i:not(.d-none), .svg-icon:not(.d-none)"),s=this.visibilityElement.querySelector("i.d-none, .svg-icon.d-none");(this.inputElement.getAttribute("type")||"")==="password"?this.inputElement.setAttribute("type","text"):this.inputElement.setAttribute("type","password"),t==null||t.classList.add("d-none"),s==null||s.classList.remove("d-none"),this.inputElement.focus()}}checkScore(){return 0}checkLength(){return this.inputElement?this.inputElement.value.length>=this.options.minLength:!1}checkLowerCase(){const t=this.inputElement?this.inputElement.value:"";return/[a-z]/.test(t)}checkUppercase(){const t=this.inputElement?this.inputElement.value:"";return/[A-Z]/.test(t)}checkDigit(){const t=this.inputElement?this.inputElement.value:"";return/[0-9]/.test(t)}checkChar(){const t=this.inputElement?this.inputElement.value:"";return/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g.test(t)}getCheckScore(){let t=1;return this.options.checkUppercase&&t++,this.options.checkLowercase&&t++,this.options.checkDigit&&t++,this.options.checkChar&&t++,this.checkSteps=t,100/this.checkSteps}highlight(){const t=this.highlightElement?[].slice.call(this.highlightElement.querySelectorAll("div")):[],s=t.length;let i=0;const m=this.getCheckScore(),u=this.getScore();t.map(n=>{i++,m*i*(this.checkSteps/s)<=u?n.classList.add("active"):n.classList.remove("active")})}getScore(){return this.score}check(){let t=0;const s=this.getCheckScore();this.checkLength()&&(t=t+s),this.options.checkUppercase&&this.checkLowerCase()&&(t=t+s),this.options.checkLowercase&&this.checkUppercase()&&(t=t+s),this.options.checkDigit&&this.checkDigit()&&(t=t+s),this.options.checkChar&&this.checkChar()&&(t=t+s),this.score=t,this.highlight()}};let h=d;o(h,"getInstance",(t,s=p.componentName)=>{const i=k.get(t,s);if(i)return i}),o(h,"createInstances",(t=p.instanseQuery,s=b,i=p)=>{document.body.querySelectorAll(t).forEach(u=>{const n=u;let l=d.getInstance(n);l||(l=new d(n,s,i))})}),o(h,"createInsance",(t=p.instanseQuery,s=b,i=p)=>{const m=document.body.querySelector(t);if(!m)return;const u=m;let n=d.getInstance(u);return n||(n=new d(u,s,i)),n}),o(h,"bootstrap",(t=p.instanseQuery)=>{d.createInstances(t)}),o(h,"reinitialization",(t=p.instanseQuery)=>{d.createInstances(t)});const V={name:"SignUp",components:{Field:S,VForm:B,ErrorMessage:C},data(){return{errors:{}}},setup(){const c=A(),t=D();let s;const i=F(null);return L(()=>{q(()=>{h.bootstrap()})}),{onSubmitRegister:async u=>{var f,v;u=u,c.logout(),i.value.disabled=!0,(f=i.value)==null||f.setAttribute("data-kt-indicator","on"),await c.register(u);const n=Q(),l=c.errors,a=c.messages;s=l,console.log(l),a?E.fire({text:a,icon:"error",buttonsStyling:!1,confirmButtonText:"Try again!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-danger"}}):E.fire({text:"\u0412\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u043B\u0438\u0441\u044C!",icon:"success",buttonsStyling:!1,confirmButtonText:"\u041E\u043A!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-primary"}}).then(function(){t.push({path:n.getUrlByRole(c.roles)})}),(v=i.value)==null||v.removeAttribute("data-kt-indicator"),i.value.disabled=!1},submitButton:i,errors:s}}},I={class:"w-lg-500px p-10"},T={class:"mb-10 text-center"},$=e("h1",{class:"text-dark mb-3"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442",-1),M={class:"text-gray-400 fw-semobold fs-4"},z=e("div",{class:"d-flex align-items-center mb-10"},[e("div",{class:"border-bottom border-gray-300 mw-50 w-100"}),e("span",{class:"fw-semobold text-gray-400 fs-7 mx-2"},"\u0438\u043B\u0438"),e("div",{class:"border-bottom border-gray-300 mw-50 w-100"})],-1),H={class:"row fv-row mb-7"},O={class:"col-xl-6"},j=e("label",{class:"form-label fw-bold text-dark fs-6"},"\u0418\u043C\u044F",-1),G={class:"fv-plugins-message-container"},J={class:"fv-help-block"},Z={class:"col-xl-6"},K=e("label",{class:"form-label fw-bold text-dark fs-6"},"\u0424\u0430\u043C\u0438\u043B\u0438\u044F",-1),W={class:"fv-plugins-message-container"},X={class:"fv-help-block"},Y={class:"fv-row mb-7"},P=e("label",{class:"form-label fw-bold text-dark fs-6"},"E-mail",-1),tt={class:"fv-plugins-message-container"},et={class:"fv-help-block"},st={class:"mb-10 fv-row","data-kt-password-meter":"true"},it={class:"mb-1"},ot=e("label",{class:"form-label fw-bold text-dark fs-6"}," \u041F\u0430\u0440\u043E\u043B\u044C ",-1),nt={class:"position-relative mb-3"},ct={class:"fv-plugins-message-container"},rt={class:"fv-help-block"},ut=e("div",{class:"d-flex align-items-center mb-3","data-kt-password-meter-control":"highlight"},[e("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"}),e("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"}),e("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"}),e("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px"})],-1),lt=e("div",{class:"text-muted"}," \u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 4 \u0438\u043B\u0438 \u0431\u043E\u043B\u044C\u0448\u0435 \u0431\u0443\u043A\u0432 \u0441 \u043D\u0430\u0431\u043E\u0440\u043E\u043C \u0441\u043B\u043E\u0432, \u0446\u0438\u0444\u0440 \u0438 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432. ",-1),at={class:"fv-row mb-5"},ht=e("label",{class:"form-label fw-bold text-dark fs-6"},"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C",-1),dt={class:"fv-plugins-message-container"},mt={class:"fv-help-block"},pt={class:"text-center"},ft={id:"kt_sign_up_submit",ref:"submitButton",type:"submit",class:"btn btn-lg btn-primary"},gt=e("span",{class:"indicator-label"}," \u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C ",-1),bt=e("span",{class:"indicator-progress"},[_(" \u041F\u043E\u0434\u043E\u0436\u0434\u0438\u0442\u0435 ... "),e("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),_t=[gt,bt];function vt(c,t,s,i,m,u){const n=g("router-link"),l=g("Field"),a=g("ErrorMessage"),f=g("VForm");return R(),N("div",I,[r(f,{class:"form w-100 fv-plugins-bootstrap5 fv-plugins-framework",novalidate:"",onSubmit:i.onSubmitRegister,id:"kt_login_signup_form"},{default:y(()=>[e("div",T,[$,e("div",M,[_(" \u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u044B? "),r(n,{to:"/sign-in",class:"link-primary fw-bold"},{default:y(()=>[_(" \u0412\u043E\u0439\u0442\u0438 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 ")]),_:1})])]),z,e("div",H,[e("div",O,[j,r(l,{class:"form-control form-control-lg form-control-solid",type:"text",placeholder:"",name:"name",autocomplete:"off"}),e("div",G,[e("div",J,[r(a,{name:"name"})])])]),e("div",Z,[K,r(l,{class:"form-control form-control-lg form-control-solid",type:"text",placeholder:"",name:"surname",autocomplete:"off"}),e("div",W,[e("div",X,[r(a,{name:"surname"})])])])]),e("div",Y,[P,r(l,{class:"form-control form-control-lg form-control-solid",type:"email",placeholder:"",name:"email",autocomplete:"off"}),e("div",tt,[e("div",et,[r(a,{name:"email"})])])]),e("div",st,[e("div",it,[ot,e("div",nt,[r(l,{class:"form-control form-control-lg form-control-solid",type:"password",placeholder:"",name:"password",autocomplete:"off"}),e("div",ct,[e("div",rt,[r(a,{name:"password"})])])]),ut]),lt]),e("div",at,[ht,r(l,{class:"form-control form-control-lg form-control-solid",type:"password",placeholder:"",name:"password_confirmation",autocomplete:"off"}),e("div",dt,[e("div",mt,[r(a,{name:"password_confirmation"})])])]),e("div",pt,[e("button",ft,_t,512)])]),_:1},8,["onSubmit"])])}const xt=U(V,[["render",vt]]);export{xt as default};
