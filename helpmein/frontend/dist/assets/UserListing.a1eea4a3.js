import{D as p,E as h,A as b}from"./AddCustomerModal.5495511f.js";import{i as v,ap as n,_ as f,l as i,m as t,x as a,K as g,L as y,w as c,F as w,r as C,y as _,au as k,o as r,Q as x,n as l}from"./index.bbe9359f.js";import"./sweetalert2.74fe64d4.js";import"./dom.f20f5527.js";const D=v({name:"user-list",components:{Datatable:p,ExportCustomerModal:h,AddCustomerModal:b},init(){},methods:{async searchItems(){await n.get("/user/list","?search="+this.search).then(e=>{this.users=e.data})},async deleteUser(e){confirm("\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B")&&await n.post("/user/delete/"+e.id).then(o=>{this.searchItems()})}},data(){return{tableData:[],search:[],selectedIds:[],deleteFewCustomers:[],sort:[],users:[]}},async mounted(){console.log("mounted"),await n.get("/user/list").then(e=>{this.users=e.data})}}),B={class:"card"},E={class:"card-header border-0 pt-6"},A={class:"card-title"},F={class:"d-flex align-items-center position-relative my-1"},$={class:"svg-icon svg-icon-1 position-absolute ms-6"},I={class:"card-toolbar"},U={class:"d-flex justify-content-end","data-kt-customer-table-toolbar":"base"},V={type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#kt_modal_add_customer"},j={class:"svg-icon svg-icon-2"},L={class:"card-body pt-0"},M={id:"kt_datatable_zero_configuration",class:"table table-row-bordered gy-5"},N=t("thead",null,[t("tr",{class:"fw-semibold fs-6 text-muted"},[t("th",null,"\u0418\u043C\u044F"),t("th",null,"\u0424\u0430\u043C\u0438\u043B\u0438\u044F"),t("th",null,"E-mail"),t("th",null,"-")])],-1),S=t("a",{href:"javascript:;",class:"btn btn-icon-primary btn-text-primary p-0"},[t("i",{class:"bi bi-pencil-square fs-4 me-2"})],-1),T=["onClick"],q=t("i",{class:"bi bi-backspace fs-4 me-2"},null,-1),z=[q];function K(e,o,Q,G,H,J){const u=_("inline-svg"),d=_("router-link"),m=k("debounce");return r(),i("div",B,[t("div",E,[t("div",A,[t("div",F,[t("span",$,[a(u,{src:"/media/icons/duotune/general/gen021.svg"})]),g(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>e.search=s),class:"form-control form-control-solid w-250px ps-15",placeholder:"\u041F\u043E\u0438\u0441\u043A \u043A\u043B\u0438\u0435\u043D\u0442\u043E\u0432"},null,512),[[y,e.search],[m,e.searchItems,"400"]])])]),t("div",I,[t("div",U,[a(d,{to:"create"},{default:c(()=>[t("button",V,[t("span",j,[a(u,{src:"/media/icons/duotune/arrows/arr075.svg"})]),x(" \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u043B\u0438\u0435\u043D\u0442\u0430 ")])]),_:1})])])]),t("div",L,[t("table",M,[N,t("tbody",null,[(r(!0),i(w,null,C(e.users,s=>(r(),i("tr",null,[t("td",null,l(s.name),1),t("td",null,l(s.surname),1),t("td",null,l(s.email),1),t("td",null,[a(d,{to:"edit/"+s.id},{default:c(()=>[S]),_:2},1032,["to"]),t("a",{onClick:O=>e.deleteUser(s),href:"javascript:;",class:"btn btn-icon-danger btn-text-danger p-0"},z,8,T)])]))),256))])])])])}const Y=f(D,[["render",K]]);export{Y as default};
